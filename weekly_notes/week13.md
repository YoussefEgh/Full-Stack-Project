Week 13:
Before, users could like posts a million times which was obviously broken. Now we track which users have liked each post in a liked_by array in Firestore. When you like something, it adds your UID to the array and increments the count. If you've already liked it, clicking again will unlike it and remove you from the array. The frontend shows a filled blue thumbs up icon when you've liked something, and an outline icon when you haven't.
We also finished the Progress page redesign that we started last week. Users can now add workout days with a date and workout type (upper body, lower body, push, pull, legs, or regular workout). Then within each day, they can add multiple exercises with sets, reps, and weight. The main progress page shows a clean list of workout days instead of a jumbled list of individual exercises. This makes it way easier to track progress over time.
Implemented the Union-Find data structure for building social clusters. It analyzes all posts and replies to find which users interact with each other, then groups them into clusters. If user A posts something and user B replies, they get connected. The algorithm uses path compression and union by rank for efficiency. We built a Clusters page that shows all the clusters in the app, and a "My Cluster" view that shows just the cluster you belong to. There's also a suggested friends feature that shows people from your cluster who you're not following yet. Had to debug some issues with the get_components() method and how we were fetching user profiles, but got it working.
Created the create_cluster_data.py script to generate fake user interactions for testing. It creates a bunch of users, posts, replies, and following relationships so we can test the cluster building with realistic data.
